.\" Copyright (C), 2022  dylany
.\" You may distribute this file under the terms of the GNU Free
.\" Documentation License.
.TH io_uring_submit_and_get_events_and_wait 3 "September 5, 2022" "liburing-2.3" "liburing Manual"
.SH NAME
io_uring_submit_and_get_events_and_wait \- submit requests to the submission queue, flush completions, and wait for completion
.SH SYNOPSIS
.nf
.B #include <liburing.h>
.PP
.BI "int io_uring_submit_and_get_events_wait(struct io_uring *" ring ","
.BI "                                        unsigned " wait_nr ");"
.fi

.SH DESCRIPTION
The
.BR io_uring_submit_and_get_events_and_wait (3)
function submits the next events to the submission queue as with
.BR io_uring_submit (3) .
After submission it will flush CQEs as with
.BR io_uring_get_events (3) .
And after that it waits for
.I wait_nr
completion events.

The benefit of this function is that it does it all with only one system call.

.SH RETURN VALUE
On success
.BR io_uring_submit_and_get_events_and_wait (3)
returns the number of submitted submission queue entries. On failure it returns
.BR -errno .
.SH SEE ALSO
.BR io_uring_submit (3),
.BR io_uring_get_events (3)
